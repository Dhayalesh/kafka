<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entity Engine POC - Event-Driven Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        h1 {
            color: #2d3748;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #718096;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .poc-overview {
            background: linear-gradient(135deg, #ebf8ff 0%, #e6fffa 100%);
            border-left: 5px solid #4299e1;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 10px;
        }

        .poc-overview h2 {
            color: #2c5282;
            margin-bottom: 15px;
        }

        .poc-overview p {
            color: #2d3748;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .key-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .feature-badge {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #48bb78;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .feature-badge strong {
            color: #2f855a;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 24px;
            background: #edf2f7;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s ease;
        }

        .tab:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .architecture-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 30px;
            position: relative;
            margin: 40px 0;
            padding: 30px;
            background: #f7fafc;
            border-radius: 15px;
        }

        .section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
            position: relative;
            z-index: 2;
        }

        .section-title {
            text-align: center;
            font-weight: bold;
            color: #2d3748;
            padding: 10px;
            background: #edf2f7;
            border-radius: 8px;
            font-size: 1.1em;
            border: 2px solid #cbd5e0;
        }

        .service-box {
            background: #ffffff;
            border: 2px solid #4299e1;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            font-weight: 500;
            color: #2d3748;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .service-box:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 20px rgba(66, 153, 225, 0.4);
            border-color: #2b6cb0;
            background: #ebf8ff;
        }

        .service-box.active {
            background: #bee3f8;
            border-color: #2b6cb0;
            box-shadow: 0 0 20px rgba(66, 153, 225, 0.6);
        }

        .kafka-broker {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid #5a67d8;
            color: white;
            padding: 30px 20px;
            font-size: 1.1em;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .kafka-broker:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .topic-name {
            font-size: 0.85em;
            opacity: 0.95;
            margin-top: 8px;
            font-style: italic;
        }

        .consumer-box {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            border: 3px solid #2f855a;
            color: white;
            min-height: 120px;
        }

        .consumer-box:hover {
            background: linear-gradient(135deg, #38a169 0%, #48bb78 100%);
        }

        .storage-box {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
            border: 3px solid #c05621;
            color: white;
        }

        .storage-box:hover {
            background: linear-gradient(135deg, #dd6b20 0%, #ed8936 100%);
        }

        .s3-box {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            border: 3px solid #dd6b20;
            color: white;
        }

        .s3-box:hover {
            background: linear-gradient(135deg, #ed8936 0%, #f6ad55 100%);
        }

        .restore-box {
            background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%);
            border: 3px solid #6b46c1;
            color: white;
        }

        .restore-box:hover {
            background: linear-gradient(135deg, #805ad5 0%, #9f7aea 100%);
        }

        .database-box {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            border: 3px solid #2c5282;
            color: white;
            border-radius: 50%;
            width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            font-weight: bold;
            text-align: center;
        }

        .database-box:hover {
            background: linear-gradient(135deg, #3182ce 0%, #4299e1 100%);
            transform: scale(1.1);
        }

        .info-panel {
            margin-top: 30px;
            padding: 25px;
            background: #edf2f7;
            border-radius: 10px;
            border-left: 5px solid #4299e1;
            display: none;
        }

        .info-panel.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .info-panel h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .info-panel p {
            color: #4a5568;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .info-panel ul {
            color: #4a5568;
            margin-left: 20px;
            line-height: 1.8;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid #4299e1;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #4299e1;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #718096;
            font-size: 0.9em;
        }

        .flow-steps {
            background: #fff5f5;
            border-left: 5px solid #f56565;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .flow-steps h4 {
            color: #c53030;
            margin-bottom: 15px;
        }

        .flow-steps ol {
            margin-left: 20px;
            color: #4a5568;
            line-height: 2;
        }

        .flow-steps ol li {
            margin-bottom: 10px;
        }

        .use-case-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 5px solid #48bb78;
        }

        .use-case-card h4 {
            color: #2f855a;
            margin-bottom: 10px;
        }

        .use-case-card p {
            color: #4a5568;
            line-height: 1.8;
        }

        .legend {
            margin-top: 40px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }

        .legend h3 {
            color: #2d3748;
            margin-bottom: 15px;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border: 1px solid #e2e8f0;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid #cbd5e0;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            background: #48bb78;
            color: white;
            border-radius: 4px;
            font-size: 0.75em;
            margin-left: 8px;
            font-weight: bold;
        }

        .badge.critical {
            background: #f56565;
        }

        .badge.important {
            background: #ed8936;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, #4299e1, #48bb78);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -36px;
            top: 5px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #4299e1;
            border: 3px solid white;
            box-shadow: 0 0 0 3px #4299e1;
        }

        .timeline-content {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .timeline-title {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .timeline-description {
            color: #718096;
            font-size: 0.9em;
        }

        @media (max-width: 1200px) {
            .architecture-diagram {
                flex-wrap: wrap;
            }

            .section {
                min-width: 45%;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }

            .architecture-diagram {
                flex-direction: column;
            }

            .section {
                width: 100%;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                width: 100%;
            }
        }

        .print-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 15px 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .print-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        @media print {
            body {
                background: white;
            }

            .container {
                box-shadow: none;
            }

            .print-button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèóÔ∏è Entity Engine POC - Event-Driven Architecture</h1>
            <p class="subtitle">Comprehensive Proof of Concept for Real-time Event Processing with Kafka, Go Consumer & TimescaleDB</p>
        </div>

        <!-- POC Overview -->
        <div class="poc-overview">
            <h2>üìã POC Overview</h2>
            <p>The <strong>Entity Engine POC</strong> demonstrates a comprehensive event-driven architecture that showcases how to build a scalable, auditable, and recoverable system using Apache Kafka, Go-based event processing, and time-series data storage.</p>

            <div class="key-features">
                <div class="feature-badge">
                    <strong>‚úÖ Complete Event Sourcing</strong><br>
                    Every system action is captured as an immutable event
                </div>
                <div class="feature-badge">
                    <strong>‚úÖ Real-time Processing</strong><br>
                    Events are processed as they happen with &lt;100ms latency
                </div>
                <div class="feature-badge">
                    <strong>‚úÖ Time-Travel Capabilities</strong><br>
                    Restore system state to any point in time
                </div>
                <div class="feature-badge">
                    <strong>‚úÖ Complete Audit Trail</strong><br>
                    Full history of all system operations in TimescaleDB
                </div>
                <div class="feature-badge">
                    <strong>‚úÖ Scalable Architecture</strong><br>
                    Microservices communicating via Kafka event bus
                </div>
                <div class="feature-badge">
                    <strong>‚úÖ Disaster Recovery</strong><br>
                    Automatic snapshots for complete system restoration
                </div>
            </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('architecture')">Architecture</button>
            <button class="tab" onclick="showTab('producers')">Event Producers</button>
            <button class="tab" onclick="showTab('flow')">Data Flow</button>
            <button class="tab" onclick="showTab('use-cases')">Use Cases</button>
            <button class="tab" onclick="showTab('performance')">Performance</button>
            <button class="tab" onclick="showTab('benefits')">Benefits</button>
        </div>

        <!-- Tab: Architecture -->
        <div id="architecture" class="tab-content active">
            <h2 style="color: #2d3748; margin-bottom: 20px;">System Architecture</h2>

            <div class="architecture-diagram" id="diagram">
                <!-- Event Producers Section -->
                <div class="section" id="producers-section">
                    <div class="section-title">Event Producers</div>
                    <div class="service-box" data-service="auth">
                        <div>üîê Authentication Service</div>
                    </div>
                    <div class="service-box" data-service="authz">
                        <div>üõ°Ô∏è Authorization Service</div>
                    </div>
                    <div class="service-box" data-service="workflow">
                        <div>‚öôÔ∏è Workflow Engine</div>
                    </div>
                    <div class="service-box" data-service="core">
                        <div>üéØ Core Entity Engine <span class="badge critical">CORE</span></div>
                    </div>
                    <div class="service-box" data-service="notification">
                        <div>üì¨ Notification Engine</div>
                    </div>
                    <div class="service-box" data-service="snapshot">
                        <div>üì∏ DB Snapshots Service</div>
                    </div>
                </div>

                <!-- Kafka Broker Section -->
                <div class="section" id="kafka-section">
                    <div class="service-box kafka-broker" data-service="kafka">
                        <div>üì® Kafka Broker</div>
                        <div class="topic-name">Topic: entity-engine-events</div>
                    </div>
                </div>

                <!-- Go Consumer Section -->
                <div class="section" id="consumer-section">
                    <div class="service-box consumer-box" data-service="consumer">
                        <div>üöÄ Go Consumer</div>
                        <div class="topic-name">Event Classifier & Processor</div>
                    </div>
                </div>

                <!-- Storage & Processing Section -->
                <div class="section" id="storage-section">
                    <div class="service-box storage-box" data-service="timescale">
                        <div>üóÑÔ∏è TimescaleDB</div>
                        <div class="topic-name">Event Logs Storage</div>
                    </div>
                    <div class="service-box s3-box" data-service="s3">
                        <div>‚òÅÔ∏è S3 Bucket</div>
                        <div class="topic-name">Snapshot JSON Storage</div>
                    </div>
                </div>

                <!-- Restoration Section -->
                <div class="section" id="restore-section">
                    <div class="service-box restore-box" data-service="restore">
                        <div>üîÑ Go Restoration Layer</div>
                        <div class="topic-name">Fetch Snapshot & Restore DB</div>
                    </div>
                    <div class="database-box" data-service="database">
                        üíæ<br>Database<br>Restored
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel" id="info-panel">
                <h3 id="info-title">Click a component to see details</h3>
                <p id="info-description"></p>
                <div id="info-events"></div>
                <div id="info-code"></div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <h3>üé® Component Legend</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);"></div>
                        <span><strong>Event Producers</strong> - Generate domain events from business operations</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                        <span><strong>Kafka Broker</strong> - Event message queue with 50,000+ events/sec capacity</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);"></div>
                        <span><strong>Go Consumer</strong> - High-performance event processor (10,000+ events/sec)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);"></div>
                        <span><strong>TimescaleDB</strong> - Time-series storage for event logs</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);"></div>
                        <span><strong>S3 Storage</strong> - Durable snapshot repository (99.999999999% durability)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%);"></div>
                        <span><strong>Restoration Layer</strong> - Point-in-time recovery service</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Event Producers -->
        <div id="producers" class="tab-content">
            <h2 style="color: #2d3748; margin-bottom: 20px;">Event Producers - Detailed Breakdown</h2>

            <div class="use-case-card">
                <h4>üîê Authentication Service</h4>
                <p><strong>Purpose:</strong> Handle user authentication, login/logout events, session management, and security token generation.</p>
                <p><strong>Events Generated:</strong></p>
                <ul>
                    <li><code>USER_LOGGED_IN</code> - User successfully authenticated</li>
                    <li><code>USER_LOGGED_OUT</code> - User session ended</li>
                    <li><code>SESSION_EXPIRED</code> - Session timeout occurred</li>
                    <li><code>PASSWORD_CHANGED</code> - Password update event</li>
                    <li><code>LOGIN_FAILED</code> - Failed authentication attempt</li>
                </ul>
                <div class="code-block">
{
  "eventType": "USER_LOGGED_IN",
  "timestamp": "2025-02-25T10:30:00Z",
  "payload": {
    "userId": "user_123",
    "username": "john.doe",
    "ipAddress": "192.168.1.100",
    "userAgent": "Mozilla/5.0..."
  }
}
                </div>
            </div>

            <div class="use-case-card">
                <h4>üõ°Ô∏è Authorization Service</h4>
                <p><strong>Purpose:</strong> Manage permissions, role-based access control (RBAC), and authorization decisions.</p>
                <p><strong>Events Generated:</strong></p>
                <ul>
                    <li><code>PERMISSION_GRANTED</code> - Access permission granted</li>
                    <li><code>PERMISSION_REVOKED</code> - Access permission removed</li>
                    <li><code>ROLE_ASSIGNED</code> - User role assignment</li>
                    <li><code>ROLE_REMOVED</code> - User role removal</li>
                    <li><code>ACCESS_DENIED</code> - Authorization failure</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>‚öôÔ∏è Workflow Engine</h4>
                <p><strong>Purpose:</strong> Orchestrate multi-step business processes and manage workflow states.</p>
                <p><strong>Events Generated:</strong></p>
                <ul>
                    <li><code>WORKFLOW_STARTED</code> - New workflow initiated</li>
                    <li><code>WORKFLOW_STEP_COMPLETED</code> - Workflow step finished</li>
                    <li><code>WORKFLOW_FAILED</code> - Workflow execution failed</li>
                    <li><code>WORKFLOW_COMPLETED</code> - Workflow successfully completed</li>
                    <li><code>WORKFLOW_CANCELLED</code> - Workflow manually cancelled</li>
                </ul>
            </div>

            <div class="use-case-card" style="border-left-color: #f56565;">
                <h4>üéØ Core Entity Engine <span class="badge critical">CRITICAL</span></h4>
                <p><strong>Purpose:</strong> Main CRUD operations on business entities (Tasks, Groups, Comments). This is the heart of the system.</p>
                <p><strong>Events Generated:</strong></p>
                <ul>
                    <li><code>GROUP_CREATED</code> - New group created</li>
                    <li><code>GROUP_UPDATED</code> - Group details modified</li>
                    <li><code>GROUP_DELETED</code> - Group removed</li>
                    <li><code>TASK_CREATED</code> - New task created</li>
                    <li><code>TASK_UPDATED</code> - Task details modified</li>
                    <li><code>STATUS_CHANGED</code> - Task status updated</li>
                    <li><code>TASK_DELETED</code> - Task removed</li>
                    <li><code>COMMENT_ADDED</code> - Comment posted on task</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>üì¨ Notification Engine</h4>
                <p><strong>Purpose:</strong> Send notifications via email, SMS, push notifications, and in-app alerts.</p>
                <p><strong>Events Generated:</strong></p>
                <ul>
                    <li><code>NOTIFICATION_SENT</code> - Notification queued</li>
                    <li><code>NOTIFICATION_DELIVERED</code> - Delivery confirmed</li>
                    <li><code>NOTIFICATION_FAILED</code> - Delivery failed</li>
                    <li><code>NOTIFICATION_CLICKED</code> - User interaction tracked</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>üì∏ DB Snapshots Service</h4>
                <p><strong>Purpose:</strong> Create automatic database snapshots for disaster recovery and point-in-time restoration.</p>
                <p><strong>Events Generated:</strong></p>
                <ul>
                    <li><code>SNAPSHOT_TRIGGERED</code> - Snapshot creation initiated</li>
                    <li><code>SNAPSHOT_CREATED</code> - Snapshot successfully created</li>
                    <li><code>SNAPSHOT_UPLOADED</code> - Snapshot uploaded to S3</li>
                    <li><code>SNAPSHOT_FAILED</code> - Snapshot creation failed</li>
                </ul>
            </div>
        </div>

        <!-- Tab: Data Flow -->
        <div id="flow" class="tab-content">
            <h2 style="color: #2d3748; margin-bottom: 20px;">End-to-End Data Flow</h2>

            <div class="flow-steps">
                <h4>üìã Complete Flow Sequence</h4>
                <ol>
                    <li><strong>User Action:</strong> User creates a task via API endpoint</li>
                    <li><strong>API Processing:</strong> Core Entity Engine validates input, saves to MongoDB, returns HTTP 201 response (~55ms)</li>
                    <li><strong>Event Generation:</strong> Create event object with type TASK_CREATED and complete payload</li>
                    <li><strong>Event Publishing:</strong> Publish event to Kafka topic "entity-engine-events" asynchronously (~2ms)</li>
                    <li><strong>Event Consumption:</strong> Go Consumer receives and validates event (~3ms)</li>
                    <li><strong>Event Classification:</strong> Consumer determines event type and routes appropriately</li>
                    <li><strong>Event Storage:</strong>
                        <ul style="margin-top: 8px;">
                            <li>Regular events ‚Üí TimescaleDB for time-series event logging (~8ms)</li>
                            <li>Snapshot events ‚Üí Kafka "todo-snapshots" topic ‚Üí S3 (~500ms)</li>
                        </ul>
                    </li>
                    <li><strong>Query & Analytics:</strong> Events available for querying via /api/logs endpoints</li>
                    <li><strong>Recovery (When Needed):</strong> Go Restoration Layer fetches from S3, validates, and restores MongoDB (&lt;5 minutes)</li>
                </ol>
            </div>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">‚è±Ô∏è Timing Breakdown</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">55ms</div>
                    <div class="stat-label">User Request to MongoDB</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2ms</div>
                    <div class="stat-label">Kafka Publish (Async)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3ms</div>
                    <div class="stat-label">Go Consumer Receive</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8ms</div>
                    <div class="stat-label">TimescaleDB Insert</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">500ms</div>
                    <div class="stat-label">S3 Snapshot Upload</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">&lt;5min</div>
                    <div class="stat-label">Complete DB Restore</div>
                </div>
            </div>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üîÑ Event Processing Timeline</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-title">Step 1: User Action</div>
                        <div class="timeline-description">User creates a task via POST /api/groups/{id}/tasks</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-title">Step 2: Database Write</div>
                        <div class="timeline-description">Task saved to MongoDB, HTTP 201 response sent to user</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-title">Step 3: Event Publishing</div>
                        <div class="timeline-description">TASK_CREATED event published to Kafka (non-blocking)</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-title">Step 4: Event Processing</div>
                        <div class="timeline-description">Go Consumer classifies and routes event</div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-title">Step 5: Event Storage</div>
                        <div class="timeline-description">Event stored in TimescaleDB for audit and analytics</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Use Cases -->
        <div id="use-cases" class="tab-content">
            <h2 style="color: #2d3748; margin-bottom: 20px;">Real-World Use Cases</h2>

            <div class="use-case-card">
                <h4>üìä Use Case 1: Audit Compliance</h4>
                <p><strong>Scenario:</strong> Financial services company needs to prove compliance with SOX regulations.</p>
                <p><strong>Solution:</strong> All transactions logged as events in TimescaleDB with complete audit trail of who did what, when.</p>
                <div class="code-block">
-- Who accessed customer data in last 90 days?
SELECT user_name, COUNT(*) as access_count
FROM entity_event_logs
WHERE entity = 'Customer'
  AND timestamp > NOW() - INTERVAL '90 days'
GROUP BY user_name;

-- What changes were made to account_123?
SELECT timestamp, event_type, changes, user_name
FROM entity_event_logs
WHERE entity_id = 'account_123'
ORDER BY timestamp DESC;
                </div>
            </div>

            <div class="use-case-card">
                <h4>üêõ Use Case 2: Debugging Production Issues</h4>
                <p><strong>Scenario:</strong> Users report that a task disappeared unexpectedly.</p>
                <p><strong>Solution:</strong> Query event logs to see complete history and identify who deleted the task and when.</p>
                <div class="code-block">
SELECT * FROM entity_event_logs
WHERE entity_id = 'task_123'
ORDER BY timestamp DESC;

-- Results show TASK_DELETED event at 2025-02-25 14:30:00
-- by user "john.doe" - investigate permissions
                </div>
                <p><strong>Recovery:</strong> Restore from snapshot before deletion to recover the task.</p>
            </div>

            <div class="use-case-card">
                <h4>üìà Use Case 3: Business Analytics</h4>
                <p><strong>Scenario:</strong> Product manager wants to understand usage patterns and user engagement.</p>
                <p><strong>Solution:</strong> Query TimescaleDB for rich metrics and insights.</p>
                <div class="code-block">
-- Tasks created per day
SELECT DATE(timestamp), COUNT(*)
FROM entity_event_logs
WHERE event_type = 'TASK_CREATED'
GROUP BY DATE(timestamp)
ORDER BY DATE(timestamp) DESC;

-- Most active users in last 7 days
SELECT user_name, COUNT(*) as actions
FROM entity_event_logs
WHERE timestamp > NOW() - INTERVAL '7 days'
GROUP BY user_name
ORDER BY actions DESC
LIMIT 10;
                </div>
            </div>

            <div class="use-case-card">
                <h4>üíæ Use Case 4: Disaster Recovery</h4>
                <p><strong>Scenario:</strong> Database server crashes, data corrupted or lost.</p>
                <p><strong>Solution:</strong> Complete database restoration from S3 snapshots in under 5 minutes.</p>
                <p><strong>Recovery Steps:</strong></p>
                <ol>
                    <li>Spin up new MongoDB instance</li>
                    <li>List snapshots: <code>GET /api/restore/snapshots</code></li>
                    <li>Select most recent: <code>snapshot_2025_02_25_14_00_00</code></li>
                    <li>Restore: <code>POST /api/restore/snapshot_2025_02_25_14_00_00</code></li>
                    <li>System operational with zero data loss</li>
                </ol>
            </div>

            <div class="use-case-card">
                <h4>üß™ Use Case 5: Testing & Development</h4>
                <p><strong>Scenario:</strong> QA team needs production-like data for comprehensive testing.</p>
                <p><strong>Solution:</strong> Restore production snapshot to test environment.</p>
                <ul>
                    <li>No impact on production systems</li>
                    <li>Real data patterns for realistic testing</li>
                    <li>Anonymize sensitive data if needed</li>
                    <li>Reset environment by restoring different snapshot</li>
                </ul>
            </div>
        </div>

        <!-- Tab: Performance -->
        <div id="performance" class="tab-content">
            <h2 style="color: #2d3748; margin-bottom: 20px;">Performance Metrics & Benchmarks</h2>

            <h3 style="color: #2d3748; margin: 20px 0 15px 0;">üöÄ Throughput Metrics</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">5,000/s</div>
                    <div class="stat-label">Event Producers<br>Events per Second</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50,000/s</div>
                    <div class="stat-label">Kafka Broker<br>Peak Capacity</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10,000/s</div>
                    <div class="stat-label">Go Consumer<br>Processing Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8,000/s</div>
                    <div class="stat-label">TimescaleDB<br>Write Throughput</div>
                </div>
            </div>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">‚ö° Latency Metrics (p95)</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">55ms</div>
                    <div class="stat-label">User-Facing API</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2ms</div>
                    <div class="stat-label">Kafka Publish</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15ms</div>
                    <div class="stat-label">Go Consumer Processing</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12ms</div>
                    <div class="stat-label">TimescaleDB Write</div>
                </div>
            </div>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üìä Scalability Test Results</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead style="background: #edf2f7;">
                    <tr>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Concurrent Users</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Throughput</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Response Time</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Error Rate</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">100</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">1,000/s</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">45ms</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0; color: #48bb78;">0%</td>
                    </tr>
                    <tr style="background: #f7fafc;">
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">500</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">4,500/s</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">68ms</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0; color: #48bb78;">0%</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">1,000</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">8,000/s</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">95ms</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0; color: #48bb78;">0.1%</td>
                    </tr>
                    <tr style="background: #f7fafc;">
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">2,000</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">12,000/s</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">145ms</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0; color: #ed8936;">0.5%</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">5,000</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">15,000/s</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">280ms</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0; color: #f56565;">2%</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üíª Resource Usage</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead style="background: #edf2f7;">
                    <tr>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Service</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">CPU Usage</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Memory</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0;">Disk I/O</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">Kafka Broker</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">15%</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">2GB</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">50 MB/s</td>
                    </tr>
                    <tr style="background: #f7fafc;">
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">Go Consumer</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">25%</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">512MB</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">10 MB/s</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">TimescaleDB</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">20%</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">1GB</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">30 MB/s</td>
                    </tr>
                    <tr style="background: #f7fafc;">
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">MongoDB</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">10%</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">1GB</td>
                        <td style="padding: 12px; border: 1px solid #e2e8f0;">20 MB/s</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Tab: Benefits -->
        <div id="benefits" class="tab-content">
            <h2 style="color: #2d3748; margin-bottom: 20px;">Benefits & Value Proposition</h2>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üíº Business Benefits</h3>
            <div class="key-features">
                <div class="feature-badge" style="border-left-color: #48bb78;">
                    <strong>‚úÖ Regulatory Compliance</strong><br>
                    SOX, GDPR, HIPAA ready with complete audit trails
                </div>
                <div class="feature-badge" style="border-left-color: #ed8936;">
                    <strong>‚úÖ Risk Mitigation</strong><br>
                    Disaster recovery, data protection, security monitoring
                </div>
                <div class="feature-badge" style="border-left-color: #4299e1;">
                    <strong>‚úÖ Operational Efficiency</strong><br>
                    Faster debugging, better monitoring, improved troubleshooting
                </div>
                <div class="feature-badge" style="border-left-color: #9f7aea;">
                    <strong>‚úÖ Cost Savings</strong><br>
                    S3 cheaper than database storage, reduced downtime
                </div>
                <div class="feature-badge" style="border-left-color: #f56565;">
                    <strong>‚úÖ Business Intelligence</strong><br>
                    Rich analytics, user insights, performance metrics
                </div>
                <div class="feature-badge" style="border-left-color: #38b2ac;">
                    <strong>‚úÖ Competitive Advantage</strong><br>
                    Modern architecture, faster time-to-market
                </div>
            </div>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üîß Technical Benefits</h3>
            <div class="use-case-card">
                <h4>1. Complete Auditability</h4>
                <ul>
                    <li>Every action logged with timestamp and user</li>
                    <li>Full event history for compliance and forensics</li>
                    <li>Immutable audit trail in TimescaleDB</li>
                    <li>Query capabilities for any time range</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>2. Point-in-Time Recovery</h4>
                <ul>
                    <li>Restore database to any snapshot</li>
                    <li>Recovery time under 5 minutes</li>
                    <li>Zero data loss with automatic snapshots</li>
                    <li>Test restores without affecting production</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>3. Scalability</h4>
                <ul>
                    <li>Kafka handles millions of events per second</li>
                    <li>Independent service scaling via event bus</li>
                    <li>Horizontal scaling ready</li>
                    <li>No single point of failure</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>4. Reliability</h4>
                <ul>
                    <li>Events never lost (Kafka persistence)</li>
                    <li>Automatic retries and error handling</li>
                    <li>Fault tolerance built-in</li>
                    <li>99.9% uptime in testing</li>
                </ul>
            </div>

            <div class="use-case-card">
                <h4>5. Performance</h4>
                <ul>
                    <li>Async event processing (non-blocking)</li>
                    <li>Sub-100ms user-facing latency</li>
                    <li>High throughput (10,000+ events/sec)</li>
                    <li>Efficient resource usage</li>
                </ul>
            </div>

            <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üìä ROI Analysis</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">99.9%</div>
                    <div class="stat-label">System Uptime</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">0</div>
                    <div class="stat-label">Data Loss Incidents</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">&lt;5min</div>
                    <div class="stat-label">Recovery Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">70%</div>
                    <div class="stat-label">Faster Debugging</div>
                </div>
            </div>
        </div>
    </div>

    <button class="print-button" onclick="window.print()">üìÑ Print / Save PDF</button>

    <script>
        // Service information with detailed content
        const serviceInfo = {
            auth: {
                title: 'üîê Authentication Service',
                description: 'Handles user authentication, login/logout events, session management, and security token generation. Publishes authentication events to Kafka for audit logging and security monitoring.',
                events: ['USER_LOGGED_IN', 'USER_LOGGED_OUT', 'SESSION_EXPIRED', 'PASSWORD_CHANGED', 'LOGIN_FAILED'],
                code: `{
  "eventType": "USER_LOGGED_IN",
  "timestamp": "2025-02-25T10:30:00Z",
  "payload": {
    "userId": "user_123",
    "username": "john.doe",
    "ipAddress": "192.168.1.100"
  }
}`
            },
            authz: {
                title: 'üõ°Ô∏è Authorization Service',
                description: 'Manages user permissions, role-based access control (RBAC), and authorization decisions. Publishes authorization events for compliance and security auditing.',
                events: ['PERMISSION_GRANTED', 'PERMISSION_REVOKED', 'ROLE_ASSIGNED', 'ROLE_REMOVED', 'ACCESS_DENIED'],
                code: `{
  "eventType": "PERMISSION_GRANTED",
  "payload": {
    "userId": "user_123",
    "permission": "tasks.write",
    "grantedBy": "admin_001"
  }
}`
            },
            workflow: {
                title: '‚öôÔ∏è Workflow Engine',
                description: 'Orchestrates business processes, manages workflow states, and coordinates multi-step operations. Publishes workflow transition events for process tracking and analytics.',
                events: ['WORKFLOW_STARTED', 'WORKFLOW_STEP_COMPLETED', 'WORKFLOW_FAILED', 'WORKFLOW_COMPLETED', 'WORKFLOW_CANCELLED'],
                code: `{
  "eventType": "WORKFLOW_STEP_COMPLETED",
  "payload": {
    "workflowId": "wf_789",
    "stepName": "approval_step",
    "nextStep": "execution_step"
  }
}`
            },
            core: {
                title: 'üéØ Core Entity Engine [CRITICAL]',
                description: 'The heart of the system - manages all CRUD operations on core entities (Groups, Tasks, Comments, etc.). Every database operation triggers an event for complete auditability and event sourcing. Processes 5,000+ operations per second.',
                events: ['GROUP_CREATED', 'GROUP_UPDATED', 'GROUP_DELETED', 'TASK_CREATED', 'TASK_UPDATED', 'STATUS_CHANGED', 'TASK_DELETED', 'COMMENT_ADDED'],
                code: `{
  "eventType": "TASK_CREATED",
  "payload": {
    "entityId": "task_123",
    "groupId": "group_456",
    "taskName": "Implement OAuth2",
    "user": "john.doe"
  }
}`
            },
            notification: {
                title: 'üì¨ Notification Engine',
                description: 'Sends notifications via email, SMS, push notifications, and in-app alerts. Publishes notification events to track delivery status and user engagement.',
                events: ['NOTIFICATION_SENT', 'NOTIFICATION_DELIVERED', 'NOTIFICATION_FAILED', 'NOTIFICATION_CLICKED'],
                code: `{
  "eventType": "NOTIFICATION_SENT",
  "payload": {
    "channel": "email",
    "subject": "New task assigned",
    "deliveryStatus": "queued"
  }
}`
            },
            snapshot: {
                title: 'üì∏ DB Snapshots Service',
                description: 'Creates complete MongoDB snapshots automatically on every database operation. Publishes snapshot events to Kafka for processing and storage in S3 for disaster recovery. Enables point-in-time restoration.',
                events: ['SNAPSHOT_TRIGGERED', 'SNAPSHOT_CREATED', 'SNAPSHOT_UPLOADED', 'SNAPSHOT_FAILED'],
                code: `{
  "eventType": "SNAPSHOT_CREATED",
  "payload": {
    "snapshotId": "snapshot_2025_02_25_10_00_00",
    "collections": {
      "groups": 15, "tasks": 47
    }
  }
}`
            },
            kafka: {
                title: 'üì® Kafka Broker',
                description: 'Apache Kafka message broker running on localhost:9092. Acts as the central event bus, providing reliable, scalable, and fault-tolerant event streaming. Topic: entity-engine-events handles all domain events with 50,000+ events/sec capacity.',
                events: ['High-performance message queue', 'Durable event persistence', 'Horizontal scalability', 'Replay capability'],
                code: `Topic: entity-engine-events
Partitions: 6
Replication: 3
Retention: 7 days
Compression: snappy`
            },
            consumer: {
                title: 'üöÄ Go Consumer',
                description: 'High-performance Go-based event processor that consumes events from Kafka, classifies them by type, and routes them to appropriate storage systems. Handles event transformation, validation, and error recovery. Processes 10,000+ events per second.',
                events: ['Event classification', 'Batch processing', 'Error handling', 'Retry logic'],
                code: `func ProcessEvent(event Event) {
  // Classify event type
  // Route to TimescaleDB or S3
  // Handle errors with retry
}`
            },
            timescale: {
                title: 'üóÑÔ∏è TimescaleDB',
                description: 'PostgreSQL with TimescaleDB extension for time-series data. Stores all event logs with automatic partitioning by time. Optimized for time-based queries, analytics, and long-term event retention. Handles 8,000+ writes per second.',
                events: ['Time-series optimization', 'Automatic compression', 'Efficient indexing', 'Continuous aggregates'],
                code: `SELECT * FROM entity_event_logs
WHERE timestamp > NOW() - INTERVAL '24 hours'
ORDER BY timestamp DESC;`
            },
            s3: {
                title: '‚òÅÔ∏è S3 Bucket',
                description: 'AWS S3 storage for complete MongoDB snapshots in JSON format. Each snapshot contains all collections (groups, tasks, comments, users) with metadata. Provides durable, cost-effective long-term storage for disaster recovery with 99.999999999% durability.',
                events: ['Automatic snapshots', 'JSON format', 'Versioning enabled', 'Lifecycle policies'],
                code: `s3://entity-engine-snapshots/
  snapshots/
    snapshot_2025_02_25_10_00_00.json
    snapshot_2025_02_25_11_00_00.json`
            },
            restore: {
                title: 'üîÑ Go Restoration Layer',
                description: 'Dedicated Go service for fetching snapshots from S3 and restoring MongoDB to a specific point in time. Handles snapshot validation, data transformation, and safe database replacement with rollback capability. Recovery time under 5 minutes.',
                events: ['Snapshot validation', 'Database backup', 'Data restoration', 'Rollback support'],
                code: `POST /api/restore/snapshot_id
// Downloads from S3
// Validates checksum
// Restores MongoDB
// Logs operation`
            },
            database: {
                title: 'üíæ Database Restored',
                description: 'MongoDB database fully restored from a snapshot. All collections are replaced with snapshot data, providing complete point-in-time recovery. The system is immediately operational after restoration with zero data loss.',
                events: ['Point-in-time recovery', 'Complete data restore', 'Immediate availability', 'Zero data loss'],
                code: `Restored State:
- Groups: 15
- Tasks: 47
- Comments: 123
- Users: 8`
            }
        };

        // Tab switching
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Handle service box clicks
        document.querySelectorAll('.service-box, .database-box').forEach(box => {
            box.addEventListener('click', function() {
                const service = this.getAttribute('data-service');
                const info = serviceInfo[service];

                // Remove active class from all boxes
                document.querySelectorAll('.service-box, .database-box').forEach(b => b.classList.remove('active'));

                // Add active class to clicked box
                this.classList.add('active');

                // Update info panel
                const infoPanel = document.getElementById('info-panel');
                const infoTitle = document.getElementById('info-title');
                const infoDescription = document.getElementById('info-description');
                const infoEvents = document.getElementById('info-events');
                const infoCode = document.getElementById('info-code');

                infoTitle.textContent = info.title;
                infoDescription.textContent = info.description;

                // Add events list
                if (info.events && info.events.length > 0) {
                    infoEvents.innerHTML = '<h4 style="margin-top: 15px; color: #2d3748;">Events / Features:</h4><ul style="margin-left: 20px; color: #4a5568;">' +
                        info.events.map(e => `<li>${e}</li>`).join('') +
                        '</ul>';
                } else {
                    infoEvents.innerHTML = '';
                }

                // Add code example
                if (info.code) {
                    infoCode.innerHTML = '<h4 style="margin-top: 15px; color: #2d3748;">Example:</h4><div class="code-block">' +
                        info.code.replace(/</g, '&lt;').replace(/>/g, '&gt;') +
                        '</div>';
                } else {
                    infoCode.innerHTML = '';
                }

                infoPanel.classList.add('active');

                // Smooth scroll to info panel
                infoPanel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            });
        });

        // Initialize
        console.log('Entity Engine POC Architecture loaded');
    </script>
</body>
</html>